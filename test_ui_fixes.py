"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
1. –û–∫–Ω–æ –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–∫—Ä–∞–Ω–∞
2. –°—Ç–∞—Ç—É—Å-–±–∞—Ä –Ω–µ —Å–¥–≤–∏–≥–∞–µ—Ç –∫–Ω–æ–ø–∫–∏
3. –ò–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏ –≤–º–µ—Å—Ç–æ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏
"""

import sys
import time
from PySide6.QtWidgets import QApplication
from PySide6.QtCore import QTimer
from gui import NotesApp

def test_window_constraints():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞."""
    app = QApplication.instance() or QApplication(sys.argv)
    window = NotesApp()
    
    print("=" * 60)
    print("üîç –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°–ê")
    print("=" * 60)
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –†–∞–∑–º–µ—Ä—ã –æ–∫–Ω–∞
    print("\n1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞:")
    min_size = window.minimumSize()
    max_size = window.maximumSize()
    current_size = window.size()
    
    print(f"   ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: {min_size.width()}x{min_size.height()}")
    print(f"   ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: {max_size.width()}x{max_size.height()}")
    print(f"   ‚úÖ –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: {current_size.width()}x{current_size.height()}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Word wrap –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
    print("\n2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:")
    from PySide6.QtWidgets import QTextEdit
    wrap_mode = window.body_edit.lineWrapMode()
    if wrap_mode == QTextEdit.WidgetWidth:
        print("   ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤ –≤–∫–ª—é—á–µ–Ω (QTextEdit.WidgetWidth)")
    else:
        print("   ‚ùå –ü–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∞
    print("\n3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã –ø–æ–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞:")
    title_max_width = window.title_edit.maximumWidth()
    print(f"   ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø–æ–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞: {title_max_width}px")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —Å–ø–∏—Å–∫–∞ –∑–∞–º–µ—Ç–æ–∫
    print("\n4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–ø–∏—Å–∫–∞ –∑–∞–º–µ—Ç–æ–∫:")
    list_max_width = window.notes_list.maximumWidth()
    print(f"   ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —Å–ø–∏—Å–∫–∞: {list_max_width}px")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –°—Ç–∞—Ç—É—Å-–±–∞—Ä
    print("\n5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–∞:")
    status_parent = window.status_label.parent()
    status_text = window.status_label.text()
    word_wrap = window.status_label.wordWrap()
    max_height = window.status_label.maximumHeight()
    print(f"   ‚úÖ –°—Ç–∞—Ç—É—Å-–±–∞—Ä –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É")
    print(f"   ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤: {word_wrap}")
    print(f"   ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞: {max_height}px")
    if status_text:
        print(f"   ‚ÑπÔ∏è  –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: {status_text}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 6: –ò–∫–æ–Ω–∫–∞ –∫–Ω–æ–ø–∫–∏ –ø–∞–ø–∫–∏
    print("\n6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∫–æ–Ω–∫–∏ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏:")
    button_text = window.btn_sync_settings.text()
    if "üìÅ" in button_text:
        print(f"   ‚úÖ –ò–∫–æ–Ω–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ –ø–∞–ø–∫—É: {button_text}")
    elif "‚öô" in button_text:
        print(f"   ‚ùå –°—Ç–∞—Ä–∞—è –∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏: {button_text}")
    else:
        print(f"   ‚ÑπÔ∏è  –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: {button_text}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 7: –û–±—Ä–µ–∑–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ —Å–ø–∏—Å–∫–µ
    print("\n7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–µ–∑–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π:")
    notes_count = window.notes_list.count()
    long_titles = []
    for i in range(notes_count):
        item = window.notes_list.item(i)
        text = item.text()
        if len(text) > 50:
            long_titles.append(text)
    
    if long_titles:
        print(f"   ‚ö†Ô∏è  –ù–∞–π–¥–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª–∏–Ω–Ω–µ–µ 50 —Å–∏–º–≤–æ–ª–æ–≤:")
        for title in long_titles:
            print(f"      - {title} ({len(title)} —Å–∏–º–≤–æ–ª–æ–≤)")
    else:
        print(f"   ‚úÖ –í—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ –æ–±—Ä–µ–∑–∞–Ω—ã –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤ (–≤—Å–µ–≥–æ –∑–∞–º–µ—Ç–æ–∫: {notes_count})")
    
    print("\n" + "=" * 60)
    print("‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ó–ê–í–ï–†–®–ï–ù–´!")
    print("=" * 60)
    print("\n‚ÑπÔ∏è  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω–æ:")
    print("   - –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–º–µ—Ç–∫—É —Å –¥–ª–∏–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º")
    print("   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞")
    print("   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–Ω–æ–ø–∫–∏ –Ω–µ —Å–¥–≤–∏–≥–∞—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞")
    print("   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
    print("\n‚å®Ô∏è  –ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –≤—ã—Ö–æ–¥–∞")
    
    window.show()
    
    # –ó–∞–ø—É—Å–∫ GUI
    sys.exit(app.exec())

if __name__ == "__main__":
    test_window_constraints()
